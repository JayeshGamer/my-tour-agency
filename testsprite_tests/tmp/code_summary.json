{
    "tech_stack": [
        "TypeScript",
        "Next.js",
        "React",
        "PostgreSQL",
        "Drizzle ORM",
        "Better Auth",
        "Stripe",
        "Tailwind CSS",
        "ShadCN UI",
        "Vercel"
    ],
    "features": [
        {
            "name": "Authentication API",
            "description": "User authentication with Better Auth supporting OAuth (Google), email/password, session management, and role-based access control",
            "files": [
                "lib/auth.ts",
                "lib/auth-client.ts",
                "app/api/auth/[...all]/route.ts",
                "middleware.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "info": {
                    "title": "Authentication API",
                    "version": "1.0.0"
                },
                "paths": {
                    "/api/auth/sign-in": {
                        "post": {
                            "summary": "User sign in",
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "email": {
                                                    "type": "string"
                                                },
                                                "password": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "/api/auth/sign-up": {
                        "post": {
                            "summary": "User registration",
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "email": {
                                                    "type": "string"
                                                },
                                                "password": {
                                                    "type": "string"
                                                },
                                                "firstName": {
                                                    "type": "string"
                                                },
                                                "lastName": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "/api/auth/sign-out": {
                        "post": {
                            "summary": "User sign out"
                        }
                    },
                    "/api/auth/get-session": {
                        "get": {
                            "summary": "Get current session"
                        }
                    }
                }
            }
        },
        {
            "name": "Tours Management API",
            "description": "Tour catalog management with search, filtering, and CRUD operations for tours",
            "files": [
                "app/api/tours/route.ts",
                "app/api/admin/tours/route.ts",
                "lib/db/schema/index.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "info": {
                    "title": "Tours API",
                    "version": "1.0.0"
                },
                "paths": {
                    "/api/tours": {
                        "get": {
                            "summary": "Get tours with filtering",
                            "parameters": [
                                {
                                    "name": "search",
                                    "in": "query",
                                    "schema": {
                                        "type": "string"
                                    }
                                },
                                {
                                    "name": "minPrice",
                                    "in": "query",
                                    "schema": {
                                        "type": "number"
                                    }
                                },
                                {
                                    "name": "maxPrice",
                                    "in": "query",
                                    "schema": {
                                        "type": "number"
                                    }
                                },
                                {
                                    "name": "difficulty",
                                    "in": "query",
                                    "schema": {
                                        "type": "string"
                                    }
                                },
                                {
                                    "name": "location",
                                    "in": "query",
                                    "schema": {
                                        "type": "string"
                                    }
                                },
                                {
                                    "name": "featured",
                                    "in": "query",
                                    "schema": {
                                        "type": "boolean"
                                    }
                                }
                            ]
                        },
                        "post": {
                            "summary": "Create new tour (admin only)",
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "name": {
                                                    "type": "string"
                                                },
                                                "title": {
                                                    "type": "string"
                                                },
                                                "description": {
                                                    "type": "string"
                                                },
                                                "location": {
                                                    "type": "string"
                                                },
                                                "duration": {
                                                    "type": "number"
                                                },
                                                "pricePerPerson": {
                                                    "type": "number"
                                                },
                                                "category": {
                                                    "type": "string"
                                                },
                                                "difficulty": {
                                                    "type": "string"
                                                },
                                                "maxGroupSize": {
                                                    "type": "number"
                                                },
                                                "images": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "startDates": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "included": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "notIncluded": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "itinerary": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "featured": {
                                                    "type": "boolean"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        {
            "name": "Bookings Management API",
            "description": "Tour booking system with user bookings, admin management, and status updates",
            "files": [
                "app/api/bookings/route.ts",
                "app/api/admin/bookings/[id]/status/route.ts",
                "lib/db/schema/index.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "info": {
                    "title": "Bookings API",
                    "version": "1.0.0"
                },
                "paths": {
                    "/api/bookings": {
                        "get": {
                            "summary": "Get user bookings or all bookings (admin)",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ]
                        },
                        "post": {
                            "summary": "Create new booking",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ],
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "tourId": {
                                                    "type": "string"
                                                },
                                                "numberOfPeople": {
                                                    "type": "number"
                                                },
                                                "startDate": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "paymentIntentId": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        "patch": {
                            "summary": "Update booking status (admin only)",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ],
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "bookingId": {
                                                    "type": "string"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "enum": [
                                                        "Pending",
                                                        "Confirmed",
                                                        "Canceled"
                                                    ]
                                                },
                                                "paymentIntentId": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        {
            "name": "Reviews System API",
            "description": "User review and rating system with moderation capabilities for admins",
            "files": [
                "app/api/reviews/route.ts",
                "app/api/admin/reviews/[id]/route.ts",
                "app/api/admin/reviews/[id]/status/route.ts",
                "lib/db/schema/index.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "info": {
                    "title": "Reviews API",
                    "version": "1.0.0"
                },
                "paths": {
                    "/api/reviews": {
                        "get": {
                            "summary": "Get reviews with optional filtering",
                            "parameters": [
                                {
                                    "name": "tourId",
                                    "in": "query",
                                    "schema": {
                                        "type": "string"
                                    }
                                },
                                {
                                    "name": "userId",
                                    "in": "query",
                                    "schema": {
                                        "type": "string"
                                    }
                                }
                            ]
                        },
                        "post": {
                            "summary": "Create new review",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ],
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "tourId": {
                                                    "type": "string"
                                                },
                                                "rating": {
                                                    "type": "number",
                                                    "minimum": 1,
                                                    "maximum": 5
                                                },
                                                "comment": {
                                                    "type": "string"
                                                },
                                                "title": {
                                                    "type": "string"
                                                },
                                                "bookingId": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        "delete": {
                            "summary": "Delete review (own review or admin)",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ],
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "reviewId": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        {
            "name": "Payment Processing API",
            "description": "Stripe payment integration for secure tour booking payments",
            "files": [
                "app/api/checkout/create-payment-intent/route.ts",
                "app/api/checkout/apply-coupon/route.ts",
                "app/api/checkout/route.ts",
                "lib/stripe.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "info": {
                    "title": "Payment API",
                    "version": "1.0.0"
                },
                "paths": {
                    "/api/checkout/create-payment-intent": {
                        "post": {
                            "summary": "Create Stripe payment intent",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ],
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "amount": {
                                                    "type": "number",
                                                    "minimum": 50
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "/api/checkout/apply-coupon": {
                        "post": {
                            "summary": "Apply discount coupon",
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "code": {
                                                    "type": "string"
                                                },
                                                "amount": {
                                                    "type": "number"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        {
            "name": "Admin Dashboard API",
            "description": "Comprehensive admin panel for managing tours, bookings, users, reviews, and system settings",
            "files": [
                "app/api/admin/tours/route.ts",
                "app/api/admin/bookings/[id]/status/route.ts",
                "app/api/admin/users/route.ts",
                "app/api/admin/reviews/[id]/route.ts",
                "app/api/admin/coupons/route.ts",
                "app/api/admin/notifications/route.ts",
                "app/api/admin/logs/route.ts",
                "app/api/admin/settings/route.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "info": {
                    "title": "Admin API",
                    "version": "1.0.0"
                },
                "paths": {
                    "/api/admin/tours": {
                        "get": {
                            "summary": "Get all tours (admin only)",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ]
                        },
                        "post": {
                            "summary": "Create new tour (admin only)",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ]
                        }
                    },
                    "/api/admin/users": {
                        "get": {
                            "summary": "Get all users (admin only)",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ]
                        }
                    },
                    "/api/admin/bookings/{id}/status": {
                        "patch": {
                            "summary": "Update booking status (admin only)",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ]
                        }
                    },
                    "/api/admin/reviews/{id}": {
                        "delete": {
                            "summary": "Delete review (admin only)",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ]
                        }
                    },
                    "/api/admin/coupons": {
                        "get": {
                            "summary": "Get all coupons (admin only)",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ]
                        },
                        "post": {
                            "summary": "Create new coupon (admin only)",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ]
                        }
                    },
                    "/api/admin/notifications": {
                        "get": {
                            "summary": "Get admin notifications",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ]
                        }
                    },
                    "/api/admin/logs": {
                        "get": {
                            "summary": "Get system logs (admin only)",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ]
                        }
                    }
                }
            }
        },
        {
            "name": "User Profile API",
            "description": "User profile management and account settings",
            "files": [
                "app/api/profile/route.ts",
                "app/api/profile/password/route.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "info": {
                    "title": "Profile API",
                    "version": "1.0.0"
                },
                "paths": {
                    "/api/profile": {
                        "get": {
                            "summary": "Get user profile",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ]
                        },
                        "patch": {
                            "summary": "Update user profile",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ]
                        }
                    },
                    "/api/profile/password": {
                        "patch": {
                            "summary": "Update user password",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ]
                        }
                    }
                }
            }
        },
        {
            "name": "Wishlist API",
            "description": "User wishlist functionality for saving favorite tours",
            "files": [
                "app/api/wishlist/route.ts",
                "lib/db/schema/index.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "info": {
                    "title": "Wishlist API",
                    "version": "1.0.0"
                },
                "paths": {
                    "/api/wishlist": {
                        "get": {
                            "summary": "Get user wishlist",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ]
                        },
                        "post": {
                            "summary": "Add tour to wishlist",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ]
                        },
                        "delete": {
                            "summary": "Remove tour from wishlist",
                            "security": [
                                {
                                    "bearerAuth": []
                                }
                            ]
                        }
                    }
                }
            }
        },
        {
            "name": "Contact System API",
            "description": "Contact form submissions and inquiry management",
            "files": [
                "app/api/contact/route.ts",
                "lib/db/schema/index.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "info": {
                    "title": "Contact API",
                    "version": "1.0.0"
                },
                "paths": {
                    "/api/contact": {
                        "post": {
                            "summary": "Submit contact form",
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "name": {
                                                    "type": "string"
                                                },
                                                "email": {
                                                    "type": "string"
                                                },
                                                "phone": {
                                                    "type": "string"
                                                },
                                                "subject": {
                                                    "type": "string"
                                                },
                                                "message": {
                                                    "type": "string"
                                                },
                                                "inquiryType": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        {
            "name": "Testimonials API",
            "description": "Public testimonials display system",
            "files": [
                "app/api/testimonials/route.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "info": {
                    "title": "Testimonials API",
                    "version": "1.0.0"
                },
                "paths": {
                    "/api/testimonials": {
                        "get": {
                            "summary": "Get public testimonials"
                        }
                    }
                }
            }
        }
    ]
}